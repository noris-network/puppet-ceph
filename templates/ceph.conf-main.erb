[global]
auth cluster required = cephx
auth service required = cephx
auth client required = cephx
mon osd down out subtree limit = host

<% unless @mon_hosts.nil? %>
mon host = <%= @mon_hosts.join(", ") %>
<% end -%>
<% unless @mon_osd_min_down_reporters.nil? -%>
mon osd min down reporters = <%= @mon_osd_min_down_reporters %>
<% end -%>
<% unless @mon_osd_down_out_interval.nil? -%>
mon osd down out interval = <%= @mon_osd_down_out_interval %>
<% end -%>

<% unless @log_to_syslog.nil? -%>
log to syslog = true
err to syslog = true
<% end -%>
<% unless @log_file.nil? -%>
log file = <%= @log_file -%>
<% end -%>

<% unless @cluster_net.nil? -%>
cluster network = <%= @cluster_net %>
<% end -%>
<% unless @public_net.nil? -%>
public network = <%= @public_net %>
<% end -%>

<% unless @osd_pool_default_crush_replicated_ruleset.nil? -%>
osd pool default crush replicated ruleset = <%= @osd_pool_default_crush_replicated_ruleset %>
<% end -%>
<% unless @osd_pool_default_size.nil? -%>
osd pool default size    = <%= @osd_pool_default_size %>
<% end -%>
<% unless @osd_recovery_op_priority.nil? -%>
osd recovery op priority = <%= @osd_recovery_op_priority %>
<% end -%>
<% unless @osd_max_backfills.nil? -%>
osd max backfills        = <%= @osd_max_backfills %>
<% end -%>
<% unless @osd_recovery_max_active.nil? -%>
osd recovery max active  = <%= @osd_recovery_max_active %>
<% end -%>
<% unless @osd_heartbeat_grace.nil? -%>
osd heartbeat grace = <%= @osd_heartbeat_grace %>
<% end -%>
<% unless @additional_options.nil? -%>
<% @additional_options.each do |key,value| -%>
<%= key %> = <%= value %>
<% end -%>
<% end -%>
